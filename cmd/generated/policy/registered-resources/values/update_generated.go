// Code generated by adder. DO NOT EDIT.

package policy_registered_resources_values

import (
	
	"github.com/spf13/cobra"
)

// UpdateRequestFlags represents the flags for the update command
type UpdateRequestFlags struct {
	Id string `json:"id"` // ID of the registered resource value to update
	Value string `json:"value"` // Optional updated value of the registered resource value (must be unique within the Registered Resource)
	ActionAttributeValue string `json:"actionAttributeValue"` // Optional action attribute values in the format: \"<action_id | action_name>;<attribute_value_id | attribute_value_fqn>\"
	Label string `json:"label"` // Optional metadata 'labels' in the format: key=value
}

// UpdateRequest represents the parameters for the update command
type UpdateRequest struct {
	Flags UpdateRequestFlags `json:"flags"`
	RawArguments []string `json:"raw_arguments"` // Raw command line arguments passed to the command
}

// UpdateHandler defines the function type for handling update commands
type UpdateHandler func(cmd *cobra.Command, req *UpdateRequest) error

// NewUpdateCommand creates a new update command with the provided handler function
func NewUpdateCommand(handler UpdateHandler) *cobra.Command {
	cmd := &cobra.Command{
		Use:     "update",
		Aliases: []string{"u"},
		Short:   "Update a Registered Resource Value",
		RunE: func(cmd *cobra.Command, args []string) error {
			return runUpdate(cmd, args, handler)
		},
	}

	// Register persistent flags

	// Register flags
	cmd.Flags().StringP("id", "i", "", "ID of the registered resource value to update")
	cmd.Flags().StringP("value", "v", "", "Optional updated value of the registered resource value (must be unique within the Registered Resource)")
	cmd.Flags().StringP("action-attribute-value", "a", "", "Optional action attribute values in the format: \"<action_id | action_name>;<attribute_value_id | attribute_value_fqn>\"")
	cmd.Flags().StringP("label", "l", "", "Optional metadata 'labels' in the format: key=value")

	return cmd
}

// runUpdate handles argument and flag extraction
func runUpdate(cmd *cobra.Command, args []string, handler UpdateHandler) error {
	id, _ := cmd.Flags().GetString("id")
	value, _ := cmd.Flags().GetString("value")
	actionAttributeValue, _ := cmd.Flags().GetString("action-attribute-value")
	label, _ := cmd.Flags().GetString("label")

	// Create request
	req := &UpdateRequest{
		Flags: UpdateRequestFlags{
			Id: id,
			Value: value,
			ActionAttributeValue: actionAttributeValue,
			Label: label,
		},
		RawArguments: args,
	}

	// Call handler
	return handler(cmd, req)
}
